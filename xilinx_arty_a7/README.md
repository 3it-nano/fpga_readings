# About Arty A7 Digilent Board

- Arty A7-100T
	- FPGA part: XC7A100TCSG324-1
	- [Pin map](https://www.xilinx.com/support/packagefiles/a7packages/xc7a100tcsg324pkg.txt)

- [PHY TI DP83848J](http://www.ti.com/product/DP83848J)

- [Digilent Resource Center](https://reference.digilentinc.com/reference/programmable-logic/arty-a7/start)
- [Ethernet on Arty-A7 Board](http://www.fpga-cores.com/tutorials/ethernet-on-arty-a7-board/)
	- 12/07/18
		- we have a 10/100 PHY, clearly, we can only use AXI Ethernet Lite.
		- I certainly need to figure out a way to PRINT, which is essential for human life, I'd say. JTAG serial?
	- 12/06/18: I'm trying to add a MAC and connect it with TI PHY. After that, I will write some logic to loopback any packets it get. Hopefully I could write that in HLS.
- [On-board DRAM: 256MB DDR3L SDRAM (MT41K128M16JT-125)](https://www.micron.com/products/dram/ddr3-sdram/part-catalog/mt41k128m16jt-125)
	- First time reading a DRAM chip datasheet
	- To use it, we need to have a Memory Controller at FPGA chip (Use Xilinx MIG to generate one)

## Sample Projects

- `LED_simple`: a simple Verilog module to drive the on-board LED
- `LED_clocked`: extend `LED_simple` with a input clock. Used to demonstrate how to use on-board clock.
- `jtag_debug`: shows how to use JTAG-to-AXI IP to debug AXI related IP
- `mac_tri_mode`: a modified Tri-Mode MAC reference design. Hooked with some HLS-based IP.
- `on_board_dram`: demonstrate how to access FPGA on-board DRAM
- `pdpm_arty_a7`: a PoC of combined `mac_tri_mode` and `on_board_dram`.

All projects have been tested, but not thoroughly.
All projects can be ported to other boards, but you need to modify those
constraints file, maybe even clock. A good understanding of XDC is needed.

## MAC Reference Design

I added some MAC reference design source code that is generated by Xilinx.
I was interested in how a logic should interact with a MAC IP (e.g., a tri-mode
MAC). Each MAP IP, has its own interface for TX and RX. That it requires
specific logic to drive each MAC. This is really similar to device drivers.

After some digging, I found where those "specific" part come to play. All
following files are implemented according to their spec:

- Tri-mode MAC
	- `tri_mode_ethernet_mac_0_tx_client_fifo.v`
	- `tri_mode_ethernet_mac_0_rx_client_fifo.v`

- 10G MAC
	- `ten_gig_eth_mac_0_axi_fifo.v`

Anyhow, the common practice should be

- 1) build a general FIFO layer that is used by all upper layer apps
- 2) Port FIFO for each specific MAC IP
- 3) Who does not love indirection?

## Dark Web

- [Arty FPGA 02: Clocks, Counting, & Colour](https://timetoexplore.net/blog/arty-fpga-verilog-02)
	- I like this blog, simple yet explained a lot things.
	- This one uses clock input. We should add a clock wizard to try more.
- [MICROZED CHRONICLES â€“ VIVADO HLS & DDR ACCESS](http://adiuvoengineering.com/microzed-chronicles-vivado-hls-ddr-access/)
	-  A great one on DRAM access
